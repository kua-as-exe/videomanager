{"version":3,"sources":["components/shared/BulmaNavbar.jsx","api.js","components/shared/BulmaModal.jsx","components/CreateProjectModal.jsx","hooks/useForm.js","components/ProjectCard.jsx","components/ProjectsList.jsx","pages/HomePage/HomePage.jsx","pages/ProjectPage/LeftPanel.jsx","components/shared/BulmaTabs.jsx","components/shared/DynamicFaIcon.jsx","components/shared/PrimeInplaceText.jsx","components/shared/PreviewMedia.jsx","helpers.js","pages/ProjectPage/Resources/Edit/Media/Videos/Options/Cut/ClipsList.jsx","pages/ProjectPage/Resources/Edit/Media/Videos/Options/Cut/ProcessDialogue.jsx","pages/ProjectPage/Resources/Edit/Media/Videos/Options/Cut/Cut.jsx","pages/ProjectPage/Resources/Edit/Media/Videos/EditVideo.jsx","pages/ProjectPage/Resources/Edit/EditSidebar.jsx","pages/ProjectPage/Resources/ResourceCard.jsx","pages/ProjectPage/Resources/UploadFileModal.jsx","pages/ProjectPage/Resources/ResourcesPanel.jsx","pages/ProjectPage/About/About.jsx","pages/ProjectPage/Editor/Basic/ResourcesList/ResourceItem.jsx","pages/ProjectPage/Editor/Basic/ResourcesList/ResourcesList.jsx","pages/ProjectPage/Editor/Basic/VIdeoView/VideoView.jsx","pages/ProjectPage/Editor/Basic/BasicEditor.jsx","pages/ProjectPage/Editor/ProcessPanel.jsx","pages/ProjectPage/Outputs/OutputCard.jsx","pages/ProjectPage/Outputs/OutputsPanel.jsx","pages/ProjectPage/RightPanel.jsx","pages/ProjectPage/ProjectPage.jsx","pages/Main.js","App.js","index.js"],"names":["PropTypes","string","array","BulmaNavbar","links","logoUrl","brandText","useState","isActive","setIsActive","ExpandButton","role","className","aria-label","aria-expanded","data-target","onClick","aria-hidden","exit","Links","map","link","to","text","src","id","api","user","userID","pre","projects","get","new","projectName","project","projectID","delete","outputs","resources","refresh","upload","mergeVideos","tools","extractClip","BulmaModal","show","close","title","children","footer","CreateProjectModal","props","initialState","values","setValues","target","name","value","useForm","formValues","handleInputChange","console","log","fetch","method","body","JSON","stringify","headers","then","res","json","catch","error","response","done","autoComplete","type","onChange","ProjectCard","thumbnail","prefix","tags","lastEdit","route","useLocation","alt","tag","dateTime","Date","toLocaleString","ProjectsList","React","useContext","UserContext","useApi","url","defaultData","autoTrigger","loading","data","getProjects","initialLoad","useEffect","createModal","setCreateModal","List","length","Error","class","String","Loading","HomePage","memo","history","useHistory","handleDelete","a","push","toLocaleDateString","tabsStyles","sizes","aligns","BulmaTabs","base","tabs","icon","tabsClass","tabsStyle","fullWith","align","size","location","tab","path","pathname","includes","component","exact","bool","element","arrayOf","shape","fileTypeIcons","FaMusic","FaVideo","FaImage","FaFile","playbackIcons","FaPlay","DynamicFaIcon","fileType","playback","rest","Icon","Object","keys","find","toLowerCase","PrimeInplaceText","setValue","initialValue","onExit","active","setActive","innerValue","setInnerValue","style","width","onToggle","e","onBlur","onKeyDown","key","autoFocus","PreviewMedia","mimetype","is","controls","bytesToMegaBytes","bytes","digits","toFixed","getTotalSeconds","date","getHours","getMinutes","getSeconds","getMilliseconds","ClipsList","items","setItems","functions","removeClip","selectClip","updateClip","ItemTemplate","interval","severity","format","header","itemTemplate","dragdrop","ProcessingText","processingText","setProcessingText","proccesingTextModes","callback","delay","savedCallback","useRef","current","setInterval","clearInterval","useInterval","Process","config","clips","resourceData","visible","mode","options","setCurrent","setDone","toast","requestExtractClips","start","end","setTimeout","summary","detail","label","disabled","Porgress","max","showValue","valueColor","valueTemplate","ref","maxWidth","closeOnEscape","onHide","fontSize","position","top","color","textAlign","now","clearDate","set","hours","minutes","seconds","milliseconds","PROCESS_MODES","Cut","ProjectContext","ResourceContext","fileName","duration","metadata","useVideo","video","state","addSeconds","selectedInterval","setSelectedInterval","debouncedSelectedInterval","useDebounce","timelineInterval","setError","time","paused","startSecond","endSecond","seek","pause","play","setClips","addClip","randomString","intervalDuration","Info","VideoData","formatDistance","includeSeconds","processModal","setProcessModal","ProcessDialogue","step","ticksNumber","onUpdateCallback","err","onChangeCallback","containerClassName","clip","filter","prop","tempClips","assign","index","findIndex","model","command","EditVideo","createContext","sidebar","setSidebar","fullScreen","baseZIndex","Provider","fontWeight","marginRight","ResourceCard","uploaded","infoModal","setInfoModal","setName","EditSidebar","whiteSpace","overflowX","href","UploadFileModal","useArray","add","removeIndex","clear","currentArray","removeById","FileList","file","formData","FormData","forEach","append","axios","post","status","handleUpdate","onDrop","files","getRootProps","getInputProps","ResourcesNavbar","uploadModal","setUploadModal","ResourcesPanel","projectDispatch","setResources","resourcesData","getResources","deleteResource","useCallback","resourceID","resource","About","ResourceItem","hidden","setVideo","item","toISOString","substr","data-tooltip","marginLeft","ItemList","ItemsComponent","draggableId","provided","innerRef","draggableProps","dragHandleProps","ResourcesList","button","onDragEnd","result","destination","source","newItems","list","startIndex","endIndex","Array","from","splice","removed","reorder","droppableId","droppableProps","placeholder","VideoView","currentIndex","mediaPathBase","nextVideo","toHHMMSS","BasicEditor","timeline","editor","setEditor","h","changeEditorState","newIndex","processResponse","process","r","action","payload","undefined","tabsBase","resourcesLoading","resourcesArray","resourcesInitialLoad","temp","OutputCard","OutputsPanel","sections","ProcessPanel","message","ProjectPage","useParams","getProject","refreshProject","LeftPanel","RightPanel","Main","logo","setUser","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.855d0783.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom';\r\n//import { HashLink as Link } from 'react-router-hash-link';\r\n\r\nfunction BulmaNavbar({links = [], logoUrl = '', brandText = ''}) {\r\n\r\n    const [isActive, setIsActive] = useState(false)\r\n    \r\n    const ExpandButton = () => (\r\n        <a role=\"button\" \r\n            className=\"navbar-burger burger\" \r\n            aria-label=\"menu\" \r\n            aria-expanded=\"false\" \r\n            data-target=\"navbarBasicExample\"\r\n            onClick={ () => setIsActive(!isActive) }>\r\n\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n        </a>\r\n    )\r\n\r\n    const exit = () => setIsActive(false);\r\n    const Links = () => {\r\n        return links.map( link => (\r\n            <Link className=\"navbar-item\" \r\n                to={link.to}\r\n                key={link.to}\r\n                onClick={exit}>\r\n                {link.text}\r\n            </Link>\r\n        ))\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navbar is-fixed-top\" role=\"navigation\" aria-label=\"main navigation\">\r\n        <div className=\"navbar-brand\">\r\n            <Link className=\"navbar-item\" to=\"/#\" onClick={exit}>\r\n                <img src={logoUrl} />\r\n                {brandText && <p className=\"title is-5 ml-2\">{brandText}</p>}\r\n            </Link>\r\n            <ExpandButton/>\r\n        </div>\r\n\r\n        <div \r\n            id=\"navbarBasicExample\" \r\n            className={`navbar-menu ${isActive? 'is-active': ''}`}>\r\n            <div className=\"navbar-start\">\r\n                <Links/>\r\n            </div>\r\n        </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nconst {string, array} = PropTypes;\r\nBulmaNavbar.propTypes = {\r\n    links: array,\r\n    logoUrl: string\r\n}\r\n\r\nexport default BulmaNavbar","//export const api = '/api/'\r\n\r\nconst api = {\r\n    user: (userID)=>{\r\n        let pre = `/api/user/${userID}`\r\n\r\n        return ({\r\n            projects: ()=>({\r\n                get: ()=>`${pre}/projects`,\r\n                new: (projectName)=>`${pre}/projects/new?name=${projectName}`\r\n            }),\r\n            project: (projectID) => {\r\n                pre = `${pre}/project/${projectID}`\r\n                \r\n                return({\r\n                    get: ()=>pre,\r\n                    delete: ()=>`${pre}/delete`,\r\n                    outputs: () => `${pre}/outputs`,\r\n                    resources: ()=>{\r\n                        pre = `${pre}/resources`\r\n\r\n                        return ({\r\n                            get: () => pre,\r\n                            refresh: ()=> `${pre}/refresh`,\r\n                            upload: ()=> `${pre}/upload`,\r\n                            delete: () => `${pre}/delete`,\r\n                            mergeVideos: () => `${pre}/mergeVideos`,\r\n                            tools: () => {\r\n                                pre = `${pre}/tools`\r\n\r\n                                return({\r\n                                    extractClip: () => `${pre}/extractClip`\r\n                                })\r\n                            }\r\n                        })\r\n                    }\r\n            })}\r\n        })\r\n    }   \r\n}\r\n\r\nconst newProject = () => api+'/projects/new';\r\nconst getProject = (id='') => `${api}/project/get?id=${id}`; \r\nconst deleteProject = (id='') => `${api}/project/delete?id=${id}`; \r\n\r\nconst uploadProjectResources = (id='') => `${api}/project/resources/upload?id=${id}`; \r\nconst getProjectResources = (id='') => `${api}/project/resources/get?id=${id}`; \r\nconst deleteProjectResources = (id='', resourceID='') => `${api}/project/resources/delete?id=${id}&resourceID=${resourceID}`; \r\n\r\nexport {\r\n    api, \r\n    newProject,\r\n    getProject,\r\n    deleteProject,\r\n    uploadProjectResources,\r\n    getProjectResources,\r\n    deleteProjectResources\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction BulmaModal({show, close, title, children, footer}) {\r\n    return (\r\n        <div className={`modal ${show ? \"is-active\": \"\"}`}>\r\n            <div className=\"modal-background\" onClick={close}></div>\r\n            <div className=\"modal-card\">\r\n                <header className=\"modal-card-head\">\r\n                    {title && <p className=\"modal-card-title\">{title}</p>}\r\n                    <button className=\"delete\" aria-label=\"close\" onClick={close}></button>\r\n                </header>\r\n                {children && <section className=\"modal-card-body\">\r\n                    <>{children}</>\r\n                </section>}\r\n                {footer && <footer className=\"modal-card-foot\">\r\n                    <>{footer}</>\r\n                </footer>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nBulmaModal.propTypes = {\r\n    close: PropTypes.func.isRequired,\r\n    show: PropTypes.bool.isRequired,\r\n    title: PropTypes.string,\r\n    children: PropTypes.element,\r\n    footer: PropTypes.element\r\n}\r\n\r\nexport default BulmaModal\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport BulmaModal from './shared/BulmaModal'\r\nimport { useForm } from '../hooks/useForm';\r\nimport { api } from '../api';\r\n\r\nfunction CreateProjectModal(props) {\r\n    const initialForm = {\r\n        name: '',\r\n    };\r\n    \r\n    const [ formValues, handleInputChange, reset ] = useForm( initialForm );\r\n    \r\n    const createProject = () => {\r\n        console.log(formValues);\r\n        fetch(api.user(props.userID).projects().new(), {\r\n            method: 'POST',\r\n            body: JSON.stringify(formValues),\r\n            headers:{\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }).then(res => res.json())\r\n          .catch(error => console.error('Error:', error))\r\n          .then(response => {\r\n                console.log('Success:', response)\r\n                if(props.done) props.done();\r\n                props.close();\r\n          });\r\n    }\r\n\r\n    return (\r\n        <BulmaModal \r\n            {...props}\r\n            title=\"Nuevo proyecto\"\r\n            footer={ <button className=\"button is-success is-expanded is-fullwidth\" onClick={createProject}>Crear</button> }\r\n        >\r\n            <div>\r\n                <input autoComplete=\"off\" className=\"input\" type=\"text\" name=\"name\" onChange={handleInputChange}/>\r\n            </div>\r\n        </BulmaModal>\r\n    )\r\n}\r\n\r\nCreateProjectModal.propTypes = {\r\n\r\n}\r\n\r\nexport default CreateProjectModal\r\n\r\n","import { useState } from \"react\"\r\n\r\n\r\nexport const useForm = ( initialState = {} ) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = () => {\r\n        setValues( initialState );\r\n    }\r\n\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setValues({\r\n            ...values,\r\n            [ target.name ]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    return [ values, handleInputChange, reset ];\r\n\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useRouteMatch, useLocation } from 'react-router-dom'\r\n\r\nfunction ProjectCard({id, name, prefix, thumbnail, tags, lastEdit, userID}) {\r\n    const route = useLocation();\r\n    console.log(route);\r\n    return (\r\n        <Link className=\"column is-3 is-half-mobile\" to={`/${userID}/${id}`}>\r\n            <div className=\"card\">\r\n                <div className=\"card-image\">\r\n                    <figure className=\"image is-4by3\">\r\n                    <img src={thumbnail} alt=\"Placeholder image\"/>\r\n                    </figure>\r\n                </div>\r\n                \r\n                <div className=\"card-content p-4\">\r\n\r\n                    <div className=\"content\">\r\n                        <h6 className=\"mb-1\">{name}</h6>\r\n                        {tags && <div className=\"tags\">\r\n                            {tags.map(tag => <span className=\"tag is-primary\">{tag}</span>)}\r\n                        </div>}\r\n                        <time dateTime={lastEdit}>{new Date(lastEdit).toLocaleString()}</time>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nProjectCard.propTypes = {\r\n\r\n}\r\n\r\nexport default ProjectCard\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport { FaPlus } from 'react-icons/fa';\r\nimport useApi from 'use-http-api';\r\nimport { api } from '../api'\r\nimport { UserContext } from '../pages/Main';\r\nimport CreateProjectModal from './CreateProjectModal';\r\nimport ProjectCard from './ProjectCard';\r\n\r\nexport default function ProjectsList() {\r\n    const user = React.useContext(UserContext)\r\n    const [{ loading, data, error, initialLoad}, getProjects] = useApi({\r\n        url: api.user(user.id).projects().get(), \r\n        defaultData: [], \r\n        autoTrigger: false\r\n    });\r\n    \r\n    useEffect(() => {\r\n        console.log(\"Actualizando\");\r\n        console.log(api.user(user.id).projects().get());\r\n        getProjects()\r\n    }, [user])\r\n\r\n    const [createModal, setCreateModal] = useState(false);\r\n\r\n    const List = () => \r\n        <>\r\n            <CreateProjectModal done={()=>getProjects()} userID={user.id} show={createModal} close={()=>setCreateModal(false)}/>\r\n            <div className=\"box is-primary p-0\">\r\n                <div className=\"field p-0 m-0\">\r\n                    <button \r\n                        className=\"button m-1 is-success is-pulled-right\"\r\n                        onClick={()=>setCreateModal(true)}>\r\n                    <FaPlus/></button>\r\n\r\n                </div>\r\n                <div className=\"field p-3 m-0\">\r\n                    <span>Mis videos</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"columns is-multiline\">\r\n                {console.log(data)}\r\n                {console.log(!loading, data, typeof(data) == \"object\", data.length)}\r\n                {!loading && data && typeof(data) == \"object\" && data.length && data.map( \r\n                    project => <ProjectCard key={project.id} {...project} userID={user.id}/>\r\n                )}\r\n            </div>\r\n            {/* <pre>{JSON.stringify(data, null, 2)}</pre> */}\r\n        </>\r\n    \r\n    const Error = () => \r\n        <div class=\"notification is-danger\">\r\n            {String(error)}\r\n        </div>\r\n    \r\n\r\n    const Loading = () => \r\n        <div className=\"notification is-warning\">\r\n            A\r\n        </div>\r\n    \r\n\r\n    return loading? <Loading/>: (error? <Error/>: <List/>)\r\n}\r\n","import React from 'react'\r\nimport ProjectsList from '../../components/ProjectsList'\r\nimport { UserContext } from '../Main'\r\n\r\nexport default function HomePage() {\r\n    const user = React.useContext(UserContext)\r\n    return (\r\n        <>\r\n            <section className=\"section mt-5\">\r\n            <div className=\"container\">\r\n\r\n                <div className=\"hero is-success is-bold\">\r\n                    <div className=\"hero-body\">\r\n                        <p className=\"subtitle is-3\">Bienvenido <b>{user.name}</b></p>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n            </section>\r\n            \r\n            <section className=\"section pt-1\">\r\n            <div className=\"container\">\r\n\r\n                <ProjectsList/>\r\n                \r\n            </div>\r\n            </section>\r\n            \r\n        </>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { FaArrowLeft, FaTrash } from 'react-icons/fa'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { api } from '../../api';\r\n\r\nexport default React.memo( ({name, thumbnail, id: projectID, prefix, lastEdit, userID}) => {\r\n    console.log(\"Left panel\");\r\n    const history = useHistory();\r\n    const handleDelete = async () => {\r\n        const url = api.user(userID).project(projectID).delete();\r\n        const data = await(await fetch(url, {method: 'POST'})).json();\r\n        if(data.error) {console.error(data.error); return;}\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Link className=\"button is-fullwidth is-primary mb-3 has-text-left\t\" to=\"/\">\r\n            <span className=\"icon is-small\">\r\n                <FaArrowLeft className=\"fas fa-align-left\"/>\r\n            </span>\r\n            <span>Volver</span>\r\n            </Link>\r\n\r\n            <div className=\"box\">\r\n                <figure className=\"image is-4by3 mb-3\">\r\n                    <img src={thumbnail}/>\r\n                </figure>\r\n                {/* <hr/> */}\r\n                <p className=\"title is-5\">{name}</p>\r\n                <p className=\"subtitle is-6\">{prefix}</p>\r\n                <hr/>\r\n                <p>{new Date(lastEdit).toLocaleDateString()}</p>\r\n            </div>\r\n\r\n            <button \r\n                className=\"button is-danger is-fullwidth\"\r\n                onClick={handleDelete}\r\n                >\r\n\r\n                <span className=\"icon is-small\">\r\n                    <FaTrash className=\"fas fa-align-left\"/>\r\n                </span>\r\n                <span>Eliminar</span>\r\n            </button>\r\n        </>\r\n    )\r\n});\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link, Redirect, Route, Switch, useLocation } from 'react-router-dom'\r\n\r\n// Based on Bulma\r\n// https://bulma.io/documentation/components/tabs\r\n// For everyone - Jorge Arreola\r\n\r\n// bulma defaults classes\r\nconst activeClass = 'is-active'\r\nconst tabsStyles = {\r\n    'default': '',\r\n    'boxed': 'is-boxed',\r\n    'toggle': 'is-toggle',\r\n    'toggleRound': 'is-toggle-rounded'\r\n}\r\nconst sizes = {\r\n    'default': '',\r\n    'small': 'is-small',\r\n    'medium': 'is-medium',\r\n    'large': 'is-large'\r\n}\r\nconst aligns = {\r\n    'left': '',\r\n    'centered': 'is-centered',\r\n    'right': 'is-right'\r\n}\r\n\r\nconst BulmaTabs = React.memo((\r\n    {   // default params\r\n        base, \r\n        tabs = [{text:'', to:'', icon:<></>}], \r\n        tabsClass='', \r\n        tabsStyle=\"default\",\r\n        fullWith=false,\r\n        align=\"left\",\r\n        size=''\r\n    }) => {\r\n\r\n    const location = useLocation()\r\n    // Check if is on path\r\n    const getNavLinkClass = (path) => location.pathname.includes(path) ? activeClass : '';\r\n\r\n    return (\r\n        <>\r\n            {/* Display all the tabs */}\r\n            <div className={`tabs ${tabsClass} ${fullWith? 'is-fullwidth': ''} ${sizes[size]} ${tabsStyles[tabsStyle]} ${aligns[align]}`}>\r\n            <ul>\r\n                {\r\n                    tabs.map( tab => {\r\n                        const {text, to, icon} = tab;\r\n                        const url = base+'/'+to;\r\n                        return (\r\n                            // I nedded to get the activeClass on a separated function\r\n                            // because the class needs to be on <li>, a parent element of <Link>   ( li > a(Link) )\r\n                            <li key={to} className={getNavLinkClass(url)}>\r\n                                <Link to={url}>\r\n                                    {icon && <span className=\"icon is-small\">{icon}</span>}\r\n                                    <span>{text}&nbsp;</span>\r\n                                    {/* I used \"&nbsp;\", the html code for a non-breaking space \r\n                                        because the Icon got bugged if there was no text*/}\r\n                                </Link>\r\n                            </li>\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n            </div>\r\n\r\n            {/* Route between the tabs  */}\r\n            <Switch>\r\n                {\r\n                    tabs.map(tab => {\r\n                        const {to, component} = tab;\r\n                        return <Route key={to} path={`${base}/${to}`} component={component}></Route>\r\n                    })\r\n                }\r\n                {/* If array is not void and any tab are specified, redirect to the first tab */}\r\n                {tabs.length > 0 && <Redirect exact path={base} to={`${base}/${tabs[0].to}`}/>}\r\n            </Switch>\r\n        </>\r\n    )\r\n})\r\n\r\nconst {string, bool, element, arrayOf, shape} = PropTypes;\r\n\r\nBulmaTabs.propTypes = {\r\n    base: string.isRequired,\r\n    tabs: arrayOf(shape({\r\n        to: string.isRequired, \r\n        text: string, \r\n        icon: element\r\n    })).isRequired,\r\n    tabsClass: string,\r\n    tabsStyle: string,\r\n    fullWith: bool,\r\n    align: string,\r\n    size: string,\r\n}\r\n\r\nexport default BulmaTabs\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { FaCircle, FaFile, FaImage, FaMusic, FaPlay, FaVideo } from 'react-icons/fa'\r\n\r\nconst fileTypeIcons = {\r\n    'audio': FaMusic,\r\n    'video': FaVideo,\r\n    'image': FaImage,\r\n    'default': FaFile\r\n}\r\n\r\nconst playbackIcons = {\r\n    'current': FaPlay,\r\n}\r\n\r\nfunction DynamicFaIcon({fileType, playback, exact = false, ...rest}) {\r\n    let Icon = ()=><></>\r\n    if(fileType){\r\n        Icon = FaFile\r\n        if(exact)\r\n            Icon = fileTypeIcons[fileType] || Icon;\r\n        else {\r\n            Icon = fileTypeIcons[\r\n                    Object.keys(fileTypeIcons)\r\n                        .find(  type => \r\n                            fileType.toLowerCase()\r\n                            .includes(type.toLowerCase()\r\n                    ))]\r\n                || Icon\r\n        }\r\n    }\r\n    if(playback){\r\n        if(exact)\r\n            Icon = playbackIcons[playback] || Icon;\r\n        else {\r\n            Icon = playbackIcons[\r\n                    Object.keys(playbackIcons)\r\n                        .find(  type => \r\n                            playback.toLowerCase()\r\n                            .includes(type.toLowerCase()\r\n                    ))]\r\n                || Icon\r\n        }\r\n    }\r\n    return <Icon {...rest}/>\r\n}\r\n\r\nDynamicFaIcon.propTypes = {\r\n    exact: PropTypes.bool,\r\n    fileType: PropTypes.string\r\n}\r\n\r\nexport default React.memo(DynamicFaIcon)\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Inplace, InplaceDisplay, InplaceContent } from 'primereact/inplace';\r\nimport { InputText } from 'primereact/inputtext';\r\n\r\nfunction PrimeInplaceText({value = \"\", setValue = ()=>{}, initialValue = \"\", onExit=()=>{}}) {\r\n    const [active, setActive] = React.useState(false)\r\n    const [innerValue, setInnerValue] = React.useState(initialValue)\r\n\r\n    const exit = () => {\r\n        onExit(innerValue? innerValue: value);\r\n        setActive(false);\r\n    }\r\n    \r\n    return (\r\n        <Inplace \r\n            style={{width: '100%'}}\r\n            active={active} \r\n            onToggle={(e) => setActive(e.value)}>\r\n\r\n            <InplaceDisplay>\r\n                <span>{initialValue? innerValue: value}</span>\r\n            </InplaceDisplay>\r\n            <InplaceContent>\r\n                <InputText\r\n                    style={{width: '100%'}}\r\n                    onBlur={exit}\r\n                    value={initialValue? innerValue: value} \r\n                    onChange={(e) => {\r\n                        if(initialValue) setInnerValue(e.target.value)\r\n                        else setValue(e.target.value);\r\n                    }}\r\n                    onKeyDown={(e)=>{\r\n                        if(e.key === \"Enter\") exit();\r\n                    }}\r\n                    autoFocus/>\r\n\r\n            </InplaceContent>\r\n        </Inplace>\r\n    )\r\n}\r\n\r\nPrimeInplaceText.propTypes = {\r\n\r\n}\r\n\r\nexport default PrimeInplaceText\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction PreviewMedia({src, mimetype, ...rest}) {\r\n    const is = (type) => String(mimetype).includes(type);\r\n    if( is('video') )\r\n        return <video src={src} controls></video>\r\n    if( is('image') )\r\n        return <img src={src}/>\r\n    if( is('audio') )\r\n        return <audio src={src} controls style={{width: '100%'}}/>\r\n        \r\n    return <>No preview</>\r\n}\r\n\r\nPreviewMedia.propTypes = {\r\n    src: PropTypes.string.isRequired,\r\n    mimetype: PropTypes.string.isRequired\r\n}\r\n\r\nexport default PreviewMedia\r\n\r\n","export const bytesToMegaBytes = (bytes, digits = 2) => digits ? (bytes / (1024*1024)).toFixed(digits) : (bytes / (1024*1024));\r\nexport const getTotalSeconds = (date = new Date()) => (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + date.getMilliseconds()/1000;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { OrderList } from 'primereact/orderlist';\r\nimport { Tag } from 'primereact/tag';\r\nimport { format } from \"date-fns\";\r\nimport { Button } from 'primereact/button';\r\nimport { OverlayPanel } from 'primereact/overlaypanel';\r\nimport { useRef } from 'react';\r\nimport PrimeInplaceText from '../../../../../../../../components/shared/PrimeInplaceText';\r\n\r\nfunction ClipsList({items, setItems, functions: {removeClip, selectClip, updateClip}}) {\r\n    const ItemTemplate = ({name, interval, src, id}) => {\r\n        \r\n        return (\r\n            <div>\r\n                <div className=\"p-d-flex p-jc-between p-ai-center\">\r\n                    <div className=\"p-d-flex p-ai-center\">\r\n                        <Button \r\n                            icon=\"pi pi-play\" \r\n                            className=\"p-button-rounded p-button-info  p-button-sm\"\r\n                            onClick={()=>selectClip(id)}/>\r\n                        <PrimeInplaceText \r\n                            className=\"p-ml-2 p-as-center\"\r\n                            initialValue={name}\r\n                            onExit={(name)=>updateClip(id, 'name', name)}/>\r\n                    </div>\r\n                    <div className=\"p-d-flex p-ai-center\">\r\n                        <Tag severity=\"info\" className=\"p-mr-2\" value={format(interval[0], \"HH:mm:ss\")}></Tag>\r\n                        <Tag severity=\"info\" className=\"p-mr-2\" value={format(interval[1], \"HH:mm:ss\")}></Tag>\r\n                        <Button \r\n                            icon=\"pi pi-trash\" \r\n                            className=\"p-button-rounded p-button-danger p-button-sm\"\r\n                            onClick={()=>removeClip(id)}/>\r\n    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n\r\n    return (\r\n        <div>\r\n            <OrderList \r\n                header=\"Clips\"\r\n                value={items} \r\n                itemTemplate={(props)=><ItemTemplate {...props}/>} \r\n                onChange={(e) => setItems(e.value)}\r\n                dragdrop \r\n                ></OrderList>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nClipsList.propTypes = {\r\n\r\n}\r\n\r\nexport default React.memo(ClipsList)\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { PROCESS_MODES } from './Cut';\r\nimport { Button } from 'primereact/button';\r\nimport { Knob } from 'primereact/knob';\r\nimport useApi from 'use-http-api';\r\nimport { api } from '../../../../../../../../api';\r\nimport { getTotalSeconds } from '../../../../../../../../helpers';\r\nimport { Toast } from 'primereact/toast';\r\n\r\nfunction useInterval(callback, delay) {\r\n    const savedCallback = React.useRef();\r\n  \r\n    // Remember the latest callback.\r\n    React.useEffect(() => {\r\n      savedCallback.current = callback;\r\n    }, [callback]);\r\n  \r\n    // Set up the interval.\r\n    React.useEffect(() => {\r\n      function tick() {\r\n        savedCallback.current();\r\n      }\r\n      if (delay !== null) {\r\n        let id = setInterval(tick, delay);\r\n        return () => clearInterval(id);\r\n      }\r\n    }, [delay]);\r\n  }\r\nconst ProcessingText = React.memo(({text = \"Procesando\", className=\"\"}) => {\r\n    const [processingText, setProcessingText] = React.useState(0);\r\n    const proccesingTextModes = [text, text+'.', text+'..', text+'...'];\r\n    \r\n    useInterval(()=>{\r\n        if(processingText === proccesingTextModes.length-1)\r\n            setProcessingText(0);\r\n        else setProcessingText(processingText + 1 );\r\n    }, 700)\r\n\r\n    return <p className={className}>{proccesingTextModes[processingText]}</p>\r\n    \r\n})\r\n\r\nfunction Process({config, close, clips = [], resourceData, userID, projectID}) {\r\n    const {visible, options: {mode} } = config;\r\n    const [current, setCurrent] = React.useState(0)\r\n    const [done, setDone] = React.useState(false)\r\n    const toast = React.useRef(null)\r\n\r\n    const [{error, initialLoad, loading, data}, requestExtractClips] = useApi({\r\n        url: api.user(userID).project(projectID).resources().tools().extractClip(),\r\n        method: 'POST', autoTrigger: false\r\n    })\r\n\r\n    React.useEffect(() => {\r\n        console.log(current);\r\n        if(done) return;\r\n        const {name, interval:[start, end]} = clips[current]\r\n        requestExtractClips({\r\n            resourceData, name,\r\n            start: getTotalSeconds(start),\r\n            end: getTotalSeconds(end),\r\n            mode\r\n        }).then( ()=>{\r\n            if(current === clips.length-1){\r\n                setDone(true);\r\n                return\r\n            }\r\n            setTimeout(()=>\r\n                setCurrent(current+1)\r\n            , 2000);\r\n        }).catch( e => {\r\n            console.error(e);\r\n        })\r\n    }, [current])\r\n    React.useEffect(() => {\r\n        if(done){\r\n            toast.current.show({severity: 'success', summary: 'Clips listos', detail: 'Todos los clips extraidos con xito'});\r\n            setTimeout(() => {\r\n                //close()\r\n            }, 2000);\r\n        }\r\n    }, [done])\r\n\r\n    React.useEffect( ()=>{\r\n        console.log(data);\r\n    }, [data])\r\n\r\n    const footer = (\r\n        <div className=\"p-d-flex p-jc-between\">\r\n            <Button \r\n                label=\"Cancelar\" \r\n                icon=\"pi pi-ban\" \r\n                className=\"p-button-danger\" \r\n                onClick={()=>close()} />\r\n            <Button \r\n                label=\"Finalizar\" \r\n                className=\"p-mr-0\"\r\n                // icon=\"pi pi-check\" \r\n                disabled={!done}\r\n                onClick={()=>close()} />\r\n        </div>\r\n    );\r\n\r\n    const Porgress = React.memo( () => (\r\n        <Knob \r\n            value={done? current+1:current} \r\n            max={clips.length}\r\n            size={150}\r\n            showValue={!done}\r\n            valueColor={done?\"LightGreen\": \"LightGray\"}\r\n            valueTemplate={\"{value}/\"+String(clips.length)}/>\r\n\r\n    ), [current])\r\n\r\n    return (\r\n       <>\r\n        <Toast ref={toast} />\r\n        <Dialog\r\n            style={{maxWidth: '90%'}}\r\n            header={mode}\r\n            visible={visible} \r\n            footer={footer}\r\n            closeOnEscape={false}\r\n            onHide={() => close()}>\r\n            \r\n            <section className=\"p-mb-4\">\r\n                <div className=\"p-d-flex p-jc-center\">\r\n                    {done && <i className='pi pi-check' style={{fontSize: '2rem', position: 'absolute', top: 'calc(50% - 1.5rem)', color: 'lightgreen'}}></i>}\r\n                    <Porgress/>\r\n                </div>\r\n                \r\n                <div className=\"\" style={{textAlign:\"center\"}}>\r\n                    {loading?\r\n                        <p className=\"title is-5\">Inicializando</p>:\r\n                    !done?\r\n                        <ProcessingText className=\"title is-5\"/>:\r\n                        <p className=\"title is-5\">Listo</p>\r\n                    }\r\n                    <p className=\"subtitle is-5\"> \r\n                        {loading && <i className=\"pi pi-spin pi-spinner p-mr-2\"/>}\r\n                        {!done && clips[current].name}\r\n                    </p>\r\n                </div>\r\n                \r\n                {error && (\r\n                    <div className=\"notification is-danger\">\r\n                        <pre>{JSON.stringify(error, null, 2)}</pre>\r\n                    </div>\r\n                )}\r\n\r\n            </section>\r\n\r\n        </Dialog>\r\n       </>\r\n    )\r\n}\r\n\r\nProcess.propTypes = {\r\n\r\n}\r\n\r\nexport default Process\r\n\r\n","import React from 'react'\r\n\r\nimport { ResourceContext } from '../../../../EditSidebar'\r\nimport { bytesToMegaBytes, getTotalSeconds } from '../../../../../../../../helpers'\r\nimport { ProjectContext } from '../../../../../../ProjectPage'\r\nimport { UserContext } from '../../../../../../../Main'\r\n\r\nimport TimeRange from 'react-timeline-range-slider'  \r\nimport { Tag } from 'primereact/tag';\r\nimport {useVideo} from 'react-use';\r\n\r\nimport { format, set, addSeconds, formatDistance } from \"date-fns\";\r\nimport ClipsList from './ClipsList'\r\nimport {generate as randomString} from 'randomstring';\r\nimport { Button } from 'primereact/button'\r\nimport {SplitButton} from 'primereact/splitbutton';\r\nimport ProcessDialogue from './ProcessDialogue'\r\nimport { useDebounce } from \"react-recipes\";\r\n\r\nconst now = new Date();\r\nconst clearDate = set(now, { hours: 0, minutes: 0, seconds: 0, milliseconds: 0 });\r\n\r\nexport const PROCESS_MODES = {\r\n    SAVE_INDEPENDENT: 'Guardar por separado',\r\n    PROCESS_INDEPENDENT: 'Procesar por separado',\r\n}\r\n\r\nfunction Cut() {\r\n    const {id: userID} = React.useContext(UserContext)\r\n    const {project: {id: projectID}} = React.useContext(ProjectContext)\r\n    const {resourceData} = React.useContext(ResourceContext)\r\n    const {name, mimetype, size, fileName} = resourceData\r\n    const duration = resourceData?.metadata?.format?.duration || -1;\r\n    \r\n    const src = `/api/user/${userID}/project/${projectID}/resources/${fileName}`;\r\n    const [video, state, controls, /* ref */] = useVideo( <video src={src} controls /> );\r\n\r\n    const [selectedInterval, setSelectedInterval] = React.useState([ clearDate, addSeconds(clearDate, duration) ])\r\n    const debouncedSelectedInterval = useDebounce(selectedInterval, 200);\r\n    const timelineInterval = [ clearDate, addSeconds(clearDate, duration) ];\r\n    const [error, setError] = React.useState(false);\r\n    const [playOnSeek, setPlayOnSeek] = React.useState(false);\r\n    \r\n    const onChangeCallback = (interval) => setSelectedInterval(interval);\r\n    React.useEffect( () => {\r\n        let {time, paused} = state;\r\n        let startSecond = getTotalSeconds(selectedInterval[0]);\r\n        let endSecond = getTotalSeconds(selectedInterval[1]);\r\n        if(time < startSecond)\r\n            controls.seek(startSecond);\r\n        if(time > endSecond && !paused){\r\n            controls.seek(endSecond);\r\n            controls.pause()\r\n        }\r\n    }, [state, selectedInterval])\r\n\r\n    const goStart = () => {\r\n        controls.seek(getTotalSeconds(selectedInterval[0]));\r\n        controls.play()\r\n    }\r\n    const goEnd = () => {\r\n        controls.seek(getTotalSeconds(selectedInterval[1])-2);\r\n        controls.play();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if(format(debouncedSelectedInterval[0], \"HH:mm:ss\") !== format(selectedInterval[0], \"HH:mm:ss\")){\r\n            goStart()\r\n        } else if( format(debouncedSelectedInterval[1], \"HH:mm:ss\") !== format(selectedInterval[1], \"HH:mm:ss\")){\r\n            goEnd()\r\n        }\r\n        \r\n    }, [selectedInterval])\r\n    \r\n    const [clips, setClips] = React.useState([/* {id: '', name: '', interval: [new Date(), new Date()]} */]);\r\n    const removeClip = (id) => setClips(clips.filter(clip => clip && clip.id !== id))\r\n    const selectClip = (id) => {\r\n        const clip = clips.find( clip => clip && clip.id === id);\r\n\r\n        setSelectedInterval(clip.interval);\r\n        setTimeout( () => {\r\n            controls.seek(getTotalSeconds(clip.interval[0]))\r\n            controls.play();\r\n        }, 50)\r\n    }\r\n    const addClip = () => {\r\n        setClips([ ...clips,\r\n            {\r\n                id: randomString(3),\r\n                name: `Clip ${clips.length}`,\r\n                interval: selectedInterval,\r\n                src,\r\n            }\r\n        ])\r\n        const [start, end] = selectedInterval;\r\n        let intervalDuration = getTotalSeconds(end)-getTotalSeconds(start);\r\n        setSelectedInterval([\r\n            end,\r\n            addSeconds( end, intervalDuration )\r\n        ])\r\n    }\r\n    const updateClip = (id, prop, value) => {\r\n        let tempClips = Object.assign([], clips);\r\n        let index = tempClips.findIndex(clip => clip.id === id);\r\n        tempClips[index][prop] = value;\r\n        setClips(tempClips)\r\n    }\r\n\r\n    const Info = React.memo(() => (\r\n        <>\r\n            <p className=\"title is-4\">{name}</p>\r\n            <p className=\"subtitle is-5\">\r\n                <span>{mimetype}</span> {' - '} <span>{bytesToMegaBytes(size)} MB</span>\r\n            </p>\r\n        </>\r\n    ))\r\n    const VideoData = React.memo(()=>(\r\n        <div className=\"p-d-flex p-jc-between\">\r\n            <div className=\"\">\r\n                Duracin: {formatDistance(selectedInterval[0], selectedInterval[1], {includeSeconds: true})}\r\n            </div>\r\n            <div className=\"\">\r\n                <Tag className=\"p-mr-2\" value={format(selectedInterval[0], \"HH:mm:ss\")}></Tag>\r\n                <Tag className=\"\" value={format(selectedInterval[1], \"HH:mm:ss\")}></Tag>\r\n            </div>\r\n        </div>\r\n    ), [selectedInterval])\r\n\r\n    const [processModal, setProcessModal] = React.useState({\r\n        visible: false, options: {mode: PROCESS_MODES.SAVE_INDEPENDENT},\r\n    })\r\n    return (\r\n        <div className=\"edit-video-cut\">\r\n        {processModal.visible && \r\n            <ProcessDialogue\r\n            {...{\r\n                userID,\r\n                projectID,\r\n                resourceData,\r\n                clips\r\n            }}\r\n            config={processModal} \r\n            close={()=>setProcessModal({...processModal, visible: false})}\r\n        />}\r\n\r\n        <div className=\"columns\">\r\n            <div className=\"column is-6\">\r\n                <Info/>\r\n                {video}\r\n                <VideoData/>\r\n\r\n                    \r\n                <TimeRange\r\n                    error={error}  \r\n                    step={1}\r\n                    ticksNumber={10}\r\n                    selectedInterval={selectedInterval}  \r\n                    timelineInterval={timelineInterval}  \r\n                    onUpdateCallback={({err}) => setError(err)}  \r\n                    onChangeCallback={onChangeCallback}\r\n                    containerClassName=\"timeline pt-5 mt-2 pb-5 mb-4\"\r\n                    // disabledIntervals={disabledIntervals}  \r\n                    />\r\n                <div className=\"p-d-flex p-jc-between\">\r\n                    <div className=\"\">\r\n                        \r\n                    </div>\r\n                    <div className=\"\">\r\n                        <Button onClick={addClip} icon=\"pi pi-eject\" className=\"p-button-warning p-mr-2\" />\r\n                        <Button onClick={addClip} icon=\"pi pi-arrow-right\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"column\">\r\n                <ClipsList\r\n                    functions= {{ selectClip, removeClip, updateClip}}\r\n                    items={clips}\r\n                    setItems={setClips}    \r\n                    />\r\n                <div className=\"p-d-flex p-m-3\">\r\n                    <SplitButton \r\n                        label=\"Guardar independiente\" \r\n                        icon=\"pi pi-list\" \r\n                        className=\"p-mr-2\"\r\n                        disabled={clips.length === 0}\r\n                        onClick={()=>{\r\n                            setProcessModal({\r\n                                visible: true,\r\n                                options: {\r\n                                    mode: PROCESS_MODES.SAVE_INDEPENDENT\r\n                                }\r\n                            })\r\n                        }} \r\n                        model={[\r\n                            {\r\n                                label: 'Procesar',\r\n                                icon: 'pi pi-cog',\r\n                                command: () => {\r\n                                    setProcessModal({\r\n                                        visible: true,\r\n                                        options: {\r\n                                            mode: PROCESS_MODES.PROCESS_INDEPENDENT\r\n                                        }\r\n                                    })\r\n                                }\r\n                            },\r\n                        ]}/>\r\n\r\n                    <Button \r\n                        className=\"p-col-6\"\r\n                        label=\"Procesar y combinar\"\r\n                        icon=\"pi pi-angle-double-down\"\r\n                        disabled={true}\r\n                        onClick={addClip}/>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cut\r\n\r\n","import React from 'react'\r\nimport Cut from './Options/Cut/Cut'\r\n\r\nexport default function EditVideo() {\r\n    /* const sections = [\r\n        {\r\n            text: 'Recursos', to: 'resources', icon: <FaFileArchive/>,\r\n            component: ResourcesPanel\r\n        },\r\n        {\r\n            text: 'Editor', to: 'edit', icon: <FaVideo/>,\r\n            component: ()=><ProcessPanel tabsBase={base+'/edit'}/>\r\n        },\r\n        {\r\n            text: 'Salidas', to: 'outputs',  icon: <FaVideo/>,\r\n            component: OutputsPanel,\r\n        },\r\n        {\r\n            text: '', to: 'about',  icon: <FaCode/>,\r\n            component: About,\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <>\r\n    {     }   <BulmaTabs \r\n                base={base}\r\n                tabsClass=\"mb-3\"\r\n                fullWith={true}\r\n                tabsStyle=\"default\"\r\n                align=\"centered\"\r\n                tabs={sections}/>\r\n    {    <}/>\r\n    ) */\r\n    return (\r\n        <>\r\n            <Cut/>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Sidebar } from 'primereact/sidebar';\r\nimport { Button } from 'primereact/button';\r\nimport PreviewMedia from '../../../../components/shared/PreviewMedia';\r\nimport EditVideo from './Media/Videos/EditVideo';\r\n\r\nexport const ResourceContext = React.createContext({resourceData: {}})\r\n\r\nexport default ({sidebar, setSidebar, userID, projectID, resourceData, ...rest}) => {\r\n    const {fileName, mimetype} = resourceData;\r\n    const src = `/api/user/${userID}/project/${projectID}/resources/${fileName}`;\r\n\r\n    return (\r\n        <Sidebar visible={sidebar} fullScreen baseZIndex={10000000} onHide={() => setSidebar(false)}>\r\n            <ResourceContext.Provider value={{resourceData}}>\r\n            {\r\n            String(mimetype).includes('video')?\r\n            <EditVideo/>:\r\n            <div className=\"columns\">\r\n                <div className=\"column is-6\">\r\n                        \r\n                </div>\r\n                <div className=\"column\">\r\n                    <h1 style={{ fontWeight: 'normal' }}>{JSON.stringify(resourceData, null, 2)}</h1>\r\n                    <Button type=\"button\" onClick={() => setSidebar(false)} label=\"Save\" className=\"p-button-success\" style={{ marginRight: '.25em' }} />\r\n                    <Button type=\"button\" onClick={() => setSidebar(false)} label=\"Cancel\" className=\"p-button-secondary\" />\r\n                </div>\r\n            </div>\r\n            }\r\n            </ResourceContext.Provider>\r\n        </Sidebar>\r\n    )\r\n}","import React, { useRef, useState } from 'react'\r\nimport { FaArrowCircleDown } from 'react-icons/fa';\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { ProjectContext } from '../ProjectPage';\r\nimport DynamicFaIcon from '../../../components/shared/DynamicFaIcon';\r\nimport { useContext } from 'react/cjs/react.development';\r\nimport BulmaModal from '../../../components/shared/BulmaModal';\r\nimport PrimeInplaceText from '../../../components/shared/PrimeInplaceText';\r\nimport EditSidebar from './Edit/EditSidebar';\r\nimport PreviewMedia from '../../../components/shared/PreviewMedia';\r\n\r\nfunction ResourceCard({handleDelete, userID, projectID, resourceData }) {\r\n    const { fileName, uploaded, id, mimetype } = resourceData;\r\n    const [infoModal, setInfoModal] = useState(false);\r\n    const [sidebar, setSidebar] = useState(false);\r\n\r\n    const [name, setName] = useState(resourceData.name);\r\n    const src = `/api/user/${userID}/project/${projectID}/resources/${fileName}`;\r\n\r\n\r\n    return (\r\n        <div className=\"column is-4\">\r\n        <EditSidebar sidebar={sidebar} setSidebar={setSidebar} {...{projectID, userID, resourceData}}/>\r\n        <BulmaModal show={infoModal} close={()=>setInfoModal(false)} title={`${name}`}>\r\n            <pre>{JSON.stringify(resourceData, null, 2)}</pre>\r\n        </BulmaModal>\r\n\r\n        <div className=\"card\">\r\n            <header className=\"card-header\">\r\n                <div className=\"card-header-title pr-0\" style={{whiteSpace: 'nowrap', overflowX: 'hidden'}}>\r\n                    <span className=\"icon mr-2\"><DynamicFaIcon fileType={mimetype}/></span> \r\n                    <PrimeInplaceText\r\n                        value={name}\r\n                        setValue={setName}\r\n                    />\r\n                </div>\r\n                <a href=\"#\" className=\"card-header-icon\" aria-label=\"more options\">\r\n                    <span className=\"icon\">\r\n                        <FaArrowCircleDown/>\r\n                    </span>\r\n                </a>\r\n            </header>\r\n            <div className=\"card-content p-0\">\r\n                <PreviewMedia src={src} mimetype={mimetype} controls/>\r\n                {/* <div className=\"content\">\r\n                    <p>{fileName}</p>\r\n                    <p><small>{id}</small></p>\r\n                    {new Date(uploaded).toLocaleDateString()}\r\n                </div> */}\r\n            </div>\r\n            <footer className=\"card-footer\">\r\n                <a onClick={()=>setSidebar(true)} disabled={true} className=\"card-footer-item\">Editar</a>\r\n                <a onClick={()=>setInfoModal(true)} className=\"card-footer-item\">Ver</a>\r\n                <a onClick={handleDelete} className=\"card-footer-item\">Eliminar</a>\r\n            </footer>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nResourceCard.propTypes = {\r\n\r\n}\r\n\r\nexport default React.memo(ResourceCard)\r\n\r\n","import React, { useState, useContext } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { api } from '../../../api';\r\nimport BulmaModal from '../../../components/shared/BulmaModal';\r\nimport axios from 'axios';\r\n\r\nimport Dropzone from 'react-dropzone'\r\nimport { useArray } from 'react-recipes';\r\n\r\nimport { FaCross, FaCrosshairs, FaFile, FaTrash, FaUpload } from 'react-icons/fa';\r\nimport { UserContext } from '../../Main';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst bytesToMegaBytes = (bytes, digits = 2) => digits ? (bytes / (1024*1024)).toFixed(digits) : (bytes / (1024*1024));\r\n\r\nfunction UploadFileModal(props) {\r\n    const {id: userID} = useContext(UserContext)\r\n  \r\n    const {\r\n        add,\r\n        clear,\r\n        removeIndex,\r\n        removeById,\r\n        value: currentArray\r\n      } = useArray([]);\r\n\r\n    const handleDrop = (files = []) => {\r\n        console.log(files)\r\n        files.forEach( file => add(file) );\r\n    }\r\n\r\n    const FileList = ()=>{\r\n        //console.log(currentArray);\r\n        return currentArray.map((file, index) => (\r\n            <a className=\"panel-block\" key={file.name}>\r\n                <span className=\"panel-icon\">\r\n                    <FaFile/>\r\n                </span>\r\n                <div className=\"container\">\r\n                <form>\r\n                    <div className=\"field mb-0\">\r\n                        <span className=\"is-pulled-left mt-1\">{file.name} ({bytesToMegaBytes(file.size)} MB)</span>\r\n                    </div>\r\n                    <div className=\"field m-0\">\r\n                        <button onClick={()=>removeIndex(index)} className=\"button is-danger is-small is-pulled-right\">\r\n                            <span className=\"icon is-small\"><FaTrash/></span>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n                </div>\r\n                \r\n            </a>\r\n        ))\r\n    }\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleUpload = () => {\r\n        console.log(currentArray)\r\n        // Create an object of formData \r\n      const formData = new FormData(); \r\n     \r\n      // Update the formData object\r\n      currentArray.forEach( (file, index) => {\r\n          formData.append( index, file);\r\n      })\r\n     \r\n      // Request made to the backend api \r\n      // Send formData object \r\n      axios.post(api.user(userID).project(props.projectID).resources().upload(), formData)\r\n        .then( (data)=> {\r\n            console.log(data)\r\n            if(data.status == 200){\r\n                props.close();\r\n                props.handleUpdate();\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <BulmaModal \r\n            {...props}\r\n            title=\"Subir archivos\"\r\n            footer={ \r\n                <button \r\n                    className=\"button is-success is-expanded is-fullwidth\" \r\n                    disabled={currentArray.length == 0}\r\n                    onClick={handleUpload}>\r\n                        Subir\r\n                </button> }\r\n        >\r\n            <div>\r\n                <nav className=\"panel\">\r\n                    <p className=\"panel-heading\">Repositories</p>\r\n                    <div className=\"panel-block\">\r\n                        <Dropzone onDrop={handleDrop}>\r\n                            {({getRootProps, getInputProps}) => (\r\n                                <section>\r\n                                <div {...getRootProps()}>\r\n                                    <div className=\"field is-fullwidth\">\r\n                                        <div className=\"file is-fullwidth is-centered\">\r\n                                            <input {...getInputProps()} />\r\n                                        <label className=\"file-label\">\r\n                                            \r\n                                            <span className=\"file-cta  is-fullwidth\">\r\n                                            <span className=\"file-icon\">\r\n                                                <FaUpload/>\r\n                                            </span>\r\n                                            <span className=\"file-label  is-fullwidth\">\r\n                                                Arrastra tus archivos o da click para seleccionarlos\r\n                                            </span>\r\n                                            </span>\r\n                                        </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                </section>\r\n                            )}\r\n                        </Dropzone>\r\n                    </div>\r\n                    \r\n                    <FileList/>\r\n            \r\n                </nav>\r\n               \r\n            </div>\r\n        </BulmaModal>\r\n    )\r\n}\r\n\r\nUploadFileModal.propTypes = {\r\n    show: PropTypes.bool.isRequired,\r\n    close: PropTypes.func.isRequired\r\n}\r\n\r\nexport default UploadFileModal\r\n\r\n","import React, { useCallback, useContext, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { ProjectContext } from '../ProjectPage';\r\nimport ResourceCard from './ResourceCard';\r\nimport { FaArrowsAlt, FaFileUpload, FaPlus } from 'react-icons/fa';\r\nimport UploadFileModal from './UploadFileModal';\r\nimport useApi from 'use-http-api';\r\nimport { api } from '../../../api';\r\nimport { UserContext } from '../../Main';\r\nimport { Toast } from 'primereact/toast';\r\nimport { Switch, Route, useParams } from 'react-router-dom';\r\nimport EditSidebar from './Edit/EditSidebar';\r\n\r\nconst ResourcesNavbar = React.memo(({projectID, handleUpdate}) => {\r\n    const [uploadModal, setUploadModal] = useState(false)\r\n    \r\n    return(\r\n    <div className=\"navbar is-dark\">\r\n        <UploadFileModal show={uploadModal} close={()=>setUploadModal(false)} projectID={projectID} handleUpdate={handleUpdate}/>\r\n        <div className=\"navbar-brand buttons\">\r\n            <div className=\"navbar-end navbar-item\">\r\n                <button className=\"button is-small is-success\">\r\n                    <span className=\"icon is-small\">\r\n                        <FaPlus />\r\n                    </span>\r\n                </button>                                       \r\n                <button \r\n                    className=\"button is-small is-primary\"\r\n                    onClick={()=>setUploadModal(true)}>\r\n                    <span className=\"icon is-small\">\r\n                        <FaFileUpload />\r\n                    </span>\r\n                </button>                                       \r\n                <button \r\n                    className=\"button is-small is-info\"\r\n                    onClick={()=>handleUpdate()}>\r\n                    <span className=\"icon is-small\">\r\n                        <FaArrowsAlt />\r\n                    </span>\r\n                </button>                                       \r\n            </div>\r\n        </div>\r\n    </div>\r\n)})\r\n\r\nfunction ResourcesPanel({}) {\r\n    const {project, projectDispatch} = React.useContext(ProjectContext);\r\n    const {id: projectID} = project || {};\r\n    const {id: userID} = useContext(UserContext);\r\n    const toast = React.useRef(null);\r\n\r\n    \r\n    const [resources, setResources] = useState([])\r\n    const [{ loading, data: resourcesData, error}, getResources] = useApi({\r\n        url: api.user(userID).project(projectID).resources().get(),\r\n        defaultData: [],\r\n    });\r\n    const [{status: deleteStatus, error: deleteError}, deleteResource] = useApi({\r\n        url: api.user(userID).project(projectID).resources().delete(), defaultData: [], autoTrigger: false, method: 'POST'\r\n    });\r\n    \r\n    if(error) console.log(error)\r\n    const handleUpdate = useCallback(() =>  getResources(), [projectID] )\r\n\r\n    const handleDelete = useCallback((resourceID)=> {\r\n        deleteResource({resourceID})\r\n        .then(()=> {\r\n            toast.current.show({severity: 'info', summary: 'Recurso eliminado', detail: 'Directito a la papelera'});\r\n            setResources(resources.filter( res => res && res.id !== resourceID))\r\n        })\r\n    }, [projectID, resources])\r\n    React.useEffect( ()=>{\r\n        if(error) return;\r\n        console.log(resourcesData)\r\n        setResources(resourcesData)\r\n    }, [resourcesData])\r\n    React.useEffect( () => {\r\n        getResources()\r\n    },[])\r\n   \r\n    return (\r\n        <div className=\"box p-0\">\r\n            <Toast ref={toast} />\r\n            <ResourcesNavbar projectID={projectID} handleUpdate={handleUpdate}/>\r\n            {loading? \r\n                <div>\r\n                    <div className=\"notification\">\r\n                        Cargando\r\n                    </div>\r\n                </div>:\r\n                <div className=\"columns p-3 is-multiline\">\r\n                    {resources && resources.map(resource => \r\n                        <ResourceCard\r\n                            userID={userID}\r\n                            projectID={projectID}\r\n                            handleDelete={()=>handleDelete(resource.id)}\r\n                            key={resource.id}\r\n                            resourceData={resource}/>\r\n                    )}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nResourcesPanel.propTypes = {\r\n\r\n}\r\n\r\nexport default React.memo(ResourcesPanel)\r\n\r\n","import React, { useContext } from 'react'\r\nimport { ProjectContext } from '../ProjectPage'\r\n\r\nexport default function About() {\r\n    const {project} = useContext(ProjectContext)\r\n    return (\r\n        <div>\r\n            <pre>{JSON.stringify(project, null, 2)}</pre>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport DynamicFaIcon from '../../../../../components/shared/DynamicFaIcon'\r\nimport { FaEye, FaEyeSlash } from 'react-icons/fa';\r\n\r\nconst toHHMMSS = (seconds)  => new Date(seconds * 1000).toISOString().substr(11, 8)\r\n\r\nfunction ResourceItem({current, hidden, id, index, setCurrent, resources, setVideo}) {\r\n    \r\n    let item = Object.assign({}, resources[id]);\r\n    let {name, metadata} = item;\r\n    let duration = toHHMMSS(metadata.format.duration);\r\n\r\n    const handleToggleHide = () => {\r\n        setVideo(index, 'toggleHidden')\r\n    }\r\n\r\n    return (\r\n        <a \r\n            className={`panel-block has-tooltip-right ${''}`} \r\n            data-tooltip={`${duration}`}\r\n            //data-tooltip={`${JSON.stringify(item, null, 2)}`}\r\n            >\r\n\r\n            <span className=\"panel-icon \">\r\n                <DynamicFaIcon playback={index == current? 'current': ''}/>\r\n            </span>\r\n            <span \r\n                style={{color: hidden? 'gray':''}}\r\n                onClick={()=>{setCurrent(index)}}>\r\n                    {name}\r\n            </span>\r\n            <div className=\"field has-addons is-float-right\" style={{marginLeft: 'auto'}}>\r\n                <button \r\n                    className={`button is-small ${hidden? '': 'is-info'}`}\r\n                    onClick={handleToggleHide}\r\n                    >{hidden? <FaEyeSlash/>: <FaEye/>}</button>\r\n            </div>\r\n        </a>\r\n    )\r\n}\r\n\r\nResourceItem.propTypes = {\r\n\r\n}\r\n\r\nexport default ResourceItem\r\n\r\n","import React from 'react';\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport ResourceItem from './ResourceItem';\r\n\r\nconst reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n};\r\n\r\nconst ItemList = React.memo(({ items, ItemsComponent, props}) => {\r\n    return items.map((item, index) => (\r\n        <Draggable draggableId={item.id} index={index}  key={item.id}>\r\n        {(provided) => (\r\n          <div\r\n            ref={provided.innerRef}\r\n            {...provided.draggableProps}\r\n            {...provided.dragHandleProps}\r\n          >\r\n            <ItemsComponent {...item} {...props} index={index}/>\r\n          </div>\r\n        )}\r\n      </Draggable>\r\n    ));\r\n});\r\n\r\nexport const ResourcesList = ({items, setItems, button, ...props}) => {\r\n    function onDragEnd(result) {\r\n        if (!result.destination) return;\r\n        if (result.destination.index === result.source.index) return;\r\n        const newItems = reorder(\r\n          items,\r\n          result.source.index,\r\n          result.destination.index\r\n        );\r\n        setItems(newItems);\r\n    }\r\n\r\n    return (\r\n        <nav className=\"panel is-primary\">\r\n            <p className=\"panel-heading p-2 pl-3\">\r\n                <span className=\"is-6\">Recursos</span>\r\n            </p>\r\n            {/* <p className=\"panel-tabs\">\r\n                <a className=\"is-active\">All</a>\r\n                <a>Public</a>\r\n                <a>Private</a>\r\n                <a>Sources</a>\r\n                <a>Forks</a>\r\n            </p> */}\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n                <Droppable droppableId=\"list\">\r\n                {(provided) => (\r\n                    <div ref={provided.innerRef} {...provided.droppableProps}>\r\n                    <ItemList items={items}  props={props} ItemsComponent={ResourceItem}/>\r\n                    {provided.placeholder}\r\n                    </div>\r\n                )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n               \r\n            \r\n            {button && <div className=\"panel-block\">\r\n                {button}\r\n            </div>}\r\n        </nav>\r\n    )\r\n}\r\n","import React, {useEffect} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {useVideo} from 'react-use';\r\n\r\nfunction VideoView({current: {fileName}, currentIndex, mediaPathBase, nextVideo}) {\r\n    const [video, state, controls, ref] = useVideo(\r\n        <video src={`${mediaPathBase}/${fileName}`} controls/>\r\n    );\r\n\r\n    useEffect(() => {\r\n        if(state.paused == false && state.time == state.duration)\r\n            nextVideo(currentIndex).then(\r\n                () => setTimeout(\r\n                    () => controls.play()\r\n                    , 100)\r\n                )\r\n        \r\n        \r\n    }, [state.time])\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {video}\r\n            </div>\r\n            {/* <div>\r\n                <pre>{JSON.stringify(state, null, 2)}</pre>\r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nVideoView.propTypes = {\r\n\r\n}\r\n\r\nexport default VideoView\r\n\r\n","import React, { useContext, useEffect, useState, useCallback} from 'react'\r\nimport useApi from 'use-http-api';\r\nimport { api } from '../../../../api';\r\nimport { ResourcesList } from './ResourcesList/ResourcesList';\r\nimport VideoView from './VIdeoView/VideoView';\r\n\r\nconst toHHMMSS = (seconds)  => new Date(seconds * 1000).toISOString().substr(11, 8)\r\nconst toMMSS = (seconds)  => new Date(seconds * 1000).toISOString().substr(14, 5)\r\n\r\nfunction BasicEditor({projectID, userID, resources}) {\r\n\r\n    const [editor, setEditor] = useState({\r\n        current: 0,\r\n        duration: 0,\r\n        timeline: []\r\n    });\r\n    const {current, duration, timeline} = editor;\r\n\r\n    useEffect(() => {\r\n        let timeline = Object.keys(resources).map(resource => ({\r\n            id: resources[resource].id,\r\n            hidden: false\r\n        }))\r\n        let duration = 0;\r\n        timeline.filter(h => h.hidden == false).forEach( (item) => {\r\n            duration += resources[item.id]?.metadata?.format?.duration | 0;\r\n        })\r\n        setEditor({\r\n            current: 0,\r\n            duration,\r\n            timeline\r\n        })\r\n    }, [resources])\r\n\r\n    const changeEditorState = (key, value) => setEditor({ ...editor, [key]: value })\r\n    const setTimeline = (items) => changeEditorState('timeline', items)\r\n    const setCurrent = (index) => changeEditorState('current', index )\r\n\r\n    const setVideo = (index, action, payload) => {\r\n        let items = Object.assign([], timeline);\r\n        switch (action) {\r\n            case 'toggleHidden':\r\n                    items[index].hidden = !items[index].hidden\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        let duration = 0;\r\n        items.filter(h => h.hidden == false).forEach( (item) => {\r\n            duration += resources[item.id]?.metadata?.format?.duration | 0;\r\n        })\r\n\r\n        setEditor({\r\n            ...editor,\r\n            timeline: items,\r\n            duration\r\n        })\r\n        //changeEditorState('timeline', items);\r\n    }\r\n    \r\n    const nextVideo = async (index) => {\r\n        let newIndex = index < timeline.length-1? index + 1 : 0;\r\n        if(newIndex < timeline.length && timeline[newIndex].hidden){\r\n            nextVideo(newIndex);\r\n        }else{\r\n            console.log(newIndex)\r\n            changeEditorState('current', newIndex);\r\n        }\r\n        return;\r\n    };\r\n\r\n    useEffect(() => {\r\n        console.log(\"A\")\r\n    }, [timeline])\r\n\r\n    const [ processResponse, process] = useApi({\r\n        url: api.user(userID).project(projectID).resources().mergeVideos(),\r\n        defaultData: [], autoTrigger: false, method: 'POST'\r\n    });\r\n    useEffect(()=>{\r\n        console.log(processResponse);\r\n    }, [processResponse])\r\n    const handleProcess = () => {\r\n        process({\r\n            timeline: timeline.filter(r => !r.hidden).map( r => (\r\n                //id: r.id,\r\n                resources[r.id].fileName\r\n            ))\r\n        })\r\n    }\r\n    \r\n    if(processResponse.loading){\r\n        return (\r\n            <div className=\"box\">\r\n                <div className=\"notification is-info\">PROCESANDO</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"box\">\r\n            <div className=\"columns\">\r\n                \r\n                <div className=\"column is-5\">\r\n                        <ResourcesList\r\n                            button={\r\n                               ( <button className=\"button is-link is-outlined is-fullwidth\" disabled={Object.keys(resources).length == 0 || duration == 0} onClick={handleProcess}>\r\n                                    Boton para hacer algo\r\n                                </button>)\r\n                            }\r\n                            setCurrent={setCurrent}\r\n                            setVideo={setVideo}\r\n                            current={editor.current}\r\n                            resources={resources}\r\n                            items={Object.assign([], editor.timeline)} \r\n                            setItems={setTimeline}/>\r\n                        \r\n                        <div className=\"notification is-primary\">\r\n                            <p>Duracin total: <b>{duration < 3600? toMMSS(duration):toHHMMSS(duration)}</b> </p>\r\n                        </div>\r\n                    \r\n                </div>\r\n                <div className=\"column is-7\">\r\n                    {   current != undefined && timeline[current] && resources[timeline[current].id] && \r\n                        <VideoView\r\n                        nextVideo={nextVideo}\r\n                        mediaPathBase={`/api/user/${userID}/project/${projectID}/resources`}\r\n                        currentIndex={current}\r\n                        current={resources[timeline[current].id]}\r\n                        /> \r\n                    }\r\n                </div>\r\n            </div>\r\n            </div>\r\n            <div className=\"columns\">\r\n                <div className=\"column is-6\"><div className=\"notificacion\"><pre>{JSON.stringify(editor, null, 2)}</pre></div></div>\r\n                <div className=\"column is-6\"><div className=\"notificacion\"><pre>{JSON.stringify(resources, null, 2)}</pre></div></div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nBasicEditor.propTypes = {\r\n\r\n}\r\n\r\nexport default React.memo(BasicEditor)\r\n\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport { FaList, FaSolarPanel, FaToolbox } from 'react-icons/fa'\r\nimport useApi from 'use-http-api';\r\nimport { api } from '../../../api';\r\nimport BulmaTabs from '../../../components/shared/BulmaTabs'\r\nimport { UserContext } from '../../Main';\r\nimport { ProjectContext } from '../ProjectPage';\r\nimport BasicEditor from './Basic/BasicEditor'\r\n\r\nexport default React.memo(({tabsBase})=>{\r\n    const {project: {id: projectID}} = useContext(ProjectContext);\r\n    const {id: userID} = useContext(UserContext);\r\n    const [resources, setResources] = useState({})\r\n    const [{ resourcesLoading, data: resourcesArray, error, resourcesInitialLoad}, getResources] = useApi({\r\n        url: api.user(userID).project(projectID).resources().get(),\r\n        defaultData: []\r\n    });\r\n    useEffect(() => {\r\n        let temp = {}\r\n        resourcesArray.filter(r => r.mimetype.includes('video')).forEach(r => {\r\n            temp[r.id] = r;\r\n        })\r\n        setResources(temp);\r\n    }, [resourcesArray])\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                error ? \r\n                    <div className=\"notification is-danger\">\r\n                        <pre>{JSON.stringify(error, null, 2)}</pre>\r\n                    </div>\r\n                :\r\n                resourcesInitialLoad || resourcesLoading ?\r\n                    <div className=\"notification is-success\">CARGANDO...</div>\r\n                :\r\n                    <BulmaTabs \r\n                        base={tabsBase}\r\n                        tabsClass=\"mb-3\"\r\n                        fullWith={false}\r\n                        tabsStyle=\"default\"\r\n                        align=\"left\"\r\n                        size=\"small\"\r\n                        tabs={[\r\n                            {\r\n                                text: 'Bsico',\r\n                                to: 'a', \r\n                                component: ()=><BasicEditor\r\n                                                    {...{ projectID, userID, resources }}/>,\r\n                                icon: <FaList/>\r\n                            },\r\n                            {\r\n                                text: 'Avanzado',\r\n                                to: 'b', \r\n                                component: ()=><p className=\"title is-1\"> Prximamente <FaToolbox/></p>,\r\n                                icon: <FaSolarPanel/>\r\n                            },\r\n                        ]}/>\r\n            }\r\n        </div>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { FaVideo } from 'react-icons/fa'\r\nimport DynamicFaIcon from '../../../components/shared/DynamicFaIcon'\r\n\r\nfunction OutputCard({handleDelete, userID, projectID, resourceData }) {\r\n    const fileName = resourceData\r\n    /* const [infoModal, setInfoModal] = useState(false) */\r\n    const src = `/api/user/${userID}/project/${projectID}/outputs/${fileName}`\r\n\r\n    return (\r\n        <div className=\"column is-6\">\r\n        \r\n        {/* <BulmaModal show={infoModal} close={()=>setInfoModal(false)} title={`${name}`}>\r\n            <pre>{JSON.stringify(resourceData, null, 2)}</pre>\r\n        </BulmaModal> */}\r\n\r\n        <div className=\"card\">\r\n            <header className=\"card-header\">\r\n                <p className=\"card-header-title pr-0\" style={{whiteSpace: 'nowrap', overflowX: 'hidden'}}>\r\n                    <span className=\"icon mr-2\"><DynamicFaIcon fileType={'video/mp4'}/></span> \r\n                    <span>{fileName}</span>\r\n                </p>\r\n                <a href=\"#\" className=\"card-header-icon\" aria-label=\"more options\">\r\n                    <span className=\"icon\">\r\n                        <FaVideo/>\r\n                    </span>\r\n                </a>\r\n            </header>\r\n            <div className=\"card-content p-0\">\r\n                <video src={src} controls></video>\r\n                {/* <div className=\"content\">\r\n                    <p>{fileName}</p>\r\n                    <p><small>{id}</small></p>\r\n                    {new Date(uploaded).toLocaleDateString()}\r\n                </div> */}\r\n            </div>\r\n            {/* <footer className=\"card-footer\">\r\n                <a onClick={()=>console.log(\"A\")} disabled={true} className=\"card-footer-item\">Editar</a>\r\n                <a onClick={()=>setInfoModal(true)} className=\"card-footer-item\">Ver</a>\r\n                <a onClick={handleDelete} className=\"card-footer-item\">Eliminar</a>\r\n            </footer> */}\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nOutputCard.propTypes = {\r\n\r\n}\r\n\r\nexport default OutputCard\r\n\r\n","import React, { useCallback, useContext, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { ProjectContext } from '../ProjectPage';\r\nimport { FaArrowsAlt, FaFileUpload, FaPlus } from 'react-icons/fa';\r\nimport useApi from 'use-http-api';\r\nimport { api } from '../../../api';\r\nimport { UserContext } from '../../Main';\r\nimport OutputCard from './OutputCard';\r\n\r\nfunction OutputsPanel() {\r\n    const {project: {id: projectID} } = useContext(ProjectContext);\r\n    const {id: userID} = useContext(UserContext);\r\n    \r\n    const [{ loading, data: resources}, getResources] = useApi({\r\n        url: api.user(userID).project(projectID).outputs(),\r\n        defaultData: [],\r\n    });\r\n\r\n    return (\r\n        <div className=\"box p-0\">\r\n            {loading? \r\n                <div>\r\n                    <div className=\"notification\">\r\n                        Cargando\r\n                    </div>\r\n                </div>:\r\n                <div className=\"columns p-3 is-multiline\">\r\n                    {resources && resources.map(resource => \r\n                        <OutputCard\r\n                            userID={userID}\r\n                            projectID={projectID}\r\n                            key={resource.id}\r\n                            resourceData={resource}/>\r\n                    )}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nOutputsPanel.propTypes = {\r\n\r\n}\r\n\r\nexport default OutputsPanel\r\n\r\n","import React, { useContext } from 'react'\r\nimport { FaAccessibleIcon, FaArrowCircleDown, FaCode, FaDashcube, FaEnvelopeOpenText, FaFileArchive, FaMusic, FaTools, FaVideo } from 'react-icons/fa'\r\nimport BulmaTabs from '../../components/shared/BulmaTabs'\r\nimport ResourcesPanel from './Resources/ResourcesPanel';\r\nimport {ProjectContext} from './ProjectPage';\r\nimport About from './About/About';\r\nimport ProcessPanel from './Editor/ProcessPanel';\r\nimport OutputsPanel from './Outputs/OutputsPanel';\r\n\r\nconst EnProceso = ()=><p className=\"title is-1 is-fullwidth has-text-centered p-5\">En proceso <FaTools/></p>\r\n\r\nexport default React.memo(({base})=>{\r\n    console.log(\"Right Panel\");\r\n    const sections = [\r\n        {\r\n            text: 'Recursos', to: 'resources', icon: <FaFileArchive/>,\r\n            component: ResourcesPanel\r\n        },\r\n        {\r\n            text: 'Editor', to: 'edit', icon: <FaVideo/>,\r\n            component: ()=><ProcessPanel tabsBase={base+'/edit'}/>\r\n        },\r\n        {\r\n            text: 'Salidas', to: 'outputs',  icon: <FaVideo/>,\r\n            component: OutputsPanel,\r\n        },\r\n        {\r\n            text: '', to: 'about',  icon: <FaCode/>,\r\n            component: About,\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <BulmaTabs \r\n                base={base}\r\n                tabsClass=\"mb-3\"\r\n                fullWith={true}\r\n                tabsStyle=\"default\"\r\n                align=\"centered\"\r\n                tabs={sections}/>\r\n        </>\r\n    )\r\n})","import React, { useEffect, useReducer, useState, useContext } from 'react'\r\nimport {api} from '../../api';\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport LeftPanel from './LeftPanel';\r\nimport RightPanel from './RightPanel';\r\nimport useApi from 'use-http-api';\r\nimport { UserContext } from '../Main';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst Error = ({title, message}) => (\r\n    <div className=\"notification is-danger\">\r\n        <p className=\"title is-3\">{title}</p>\r\n        {message && <p>{message}</p>}\r\n        <Link className=\"button is-primary\" to=\"/\">Go back to projects</Link>\r\n    </div>\r\n)\r\nexport const ProjectContext = React.createContext({project:{}, projectDispatch: ()=>{}});\r\n\r\nexport default function ProjectPage() {\r\n    const { projectID, userID } = useParams();\r\n    \r\n    let [{loading, data: project, error, initialLoad}, getProject] = useApi({\r\n        url: api.user(userID).project(projectID).get(),\r\n        autoTrigger: false,\r\n        defaultData: {project: {}}\r\n    })\r\n    \r\n    const [{}, refreshProject] = useApi({\r\n        url: api.user(userID).project(projectID).resources().refresh(), \r\n        defaultData: [], autoTrigger: false, method: 'POST'\r\n    });\r\n\r\n    useEffect(async () => {\r\n        await refreshProject();\r\n        await getProject();\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <ProjectContext.Provider value={{project}}>\r\n        <div>\r\n            <section className=\"section mt-5 \">\r\n            <div className=\"container\">\r\n\r\n            {   \r\n                initialLoad || loading? <>CARGANDO</>:\r\n                error?\r\n                    <Error title=\"Wops :(\" message={project.error}/>\r\n                :\r\n                <div className=\"columns\">\r\n\r\n                    <div className=\"column is-3\">\r\n                        <LeftPanel {...project} userID={userID}/>\r\n                    </div>\r\n                    <div className=\"column is-9\">\r\n                        <RightPanel base={`/${userID}/${projectID}`}/>\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n            </div>\r\n            </section>   \r\n        </div>\r\n        </ProjectContext.Provider>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Redirect, Route, Switch } from 'react-router-dom'\r\nimport Navbar from '../components/shared/BulmaNavbar'\r\nimport HomePage from './HomePage/HomePage'\r\nimport ProjectPage from './ProjectPage/ProjectPage'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nexport const UserContext = React.createContext({user: { name:'', id: ''}})\r\n\r\nfunction Main() {\r\n    const [user, setUser] = useState({name: '', id: '', logo: '/logo.png'})\r\n    const { userID } = useParams();\r\n    \r\n    useEffect(() => {\r\n        setUser({id: userID, name: userID, logo: user.logo});\r\n    }, [userID])\r\n\r\n    return (\r\n        <div>\r\n        <UserContext.Provider value={user}>\r\n\r\n            <Navbar\r\n                logoUrl = {user.logo}\r\n                brandText={user.name}\r\n                links = {[\r\n                    {text:'Inicio', to:\"/#\"}, \r\n                    {text:'Panel', to:`/${userID}/dashboard`}, \r\n                    {text:'Videos', to:`/${userID}/videos`}, \r\n                    {text:'Musikita', to:`/${userID}/musikita`}, \r\n                ]}\r\n            />\r\n            <Switch>\r\n                <Route path=\"/:userID/:projectID\" component={ProjectPage}/>\r\n                <Route path=\"/\" component={HomePage}/>\r\n                <Redirect path=\"/\" to=\"/user/Cranki220\"/>\r\n            </Switch>\r\n        </UserContext.Provider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport 'bulma/css/bulma.min.css'\r\nimport '@creativebulma/bulma-tooltip/dist/bulma-tooltip.min.css'\r\nimport './css/App.scss'\r\nimport './css/BulmaDarkly.css'\r\n\r\nimport 'primereact/resources/themes/luna-green/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport Main from './pages/Main';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n\r\n        <Switch>\r\n          <Route path=\"/:userID\" component={Main}/>\r\n          <Redirect path=\"/\" to=\"/Cranki220\"/>\r\n        </Switch>\r\n\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import './index.css';\r\nimport App from './App';\r\n// import Root from './Root';\r\n//import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <App />,\r\n  // </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}